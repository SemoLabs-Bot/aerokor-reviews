<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Review Hub Insights</title>
  <link rel="icon" href="data:," />
  <link rel="stylesheet" href="./style.css" />
  <style>
    .insights-wrap{padding:14px; max-width:1200px; margin:0 auto}
    .cards{display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:12px; margin-top:12px}
    .card{background:rgba(255,255,255,.92); border:1px solid var(--border); border-radius:14px; padding:12px; min-height:140px}
    .card h3{margin:0 0 10px; font-size:13px}
    .card canvas{width:100% !important; height:320px !important}
    .card-wide{grid-column: 1 / -1}
    /* Give the wide chart more height to improve label readability */
    .card-wide canvas{height:420px !important}
    .row{display:flex; gap:12px; align-items:center; justify-content:space-between}
    .back a{font-weight:900}
    @media (max-width: 1000px){ .cards{grid-template-columns:1fr} .card canvas{height:260px !important} .card-wide canvas{height:320px !important} }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="title">
      <div class="h1">Review Hub Insights</div>
      <div class="sub">제품/브랜드 기준으로 요약 지표를 빠르게 보기</div>
      <div class="top-actions">
        <span class="back"><a href="./index.html">← 리뷰 리스트로</a></span>
      </div>
    </div>
    <div class="stats">
      <div class="stat"><div class="k">총 리뷰</div><div class="v" id="statCount">-</div></div>
      <div class="stat"><div class="k">평균 평점</div><div class="v" id="statAvg">-</div></div>
      <div class="stat"><div class="k">업데이트</div><div class="v" id="statUpdated">-</div></div>
    </div>
  </header>

  <div class="insights-wrap">
    <div class="cards">
      <div class="card">
        <h3>브랜드별 평균 평점(리뷰 20개 이상)</h3>
        <canvas id="cBrandAvg"></canvas>
      </div>
      <div class="card">
        <h3>평점 분포</h3>
        <canvas id="cRatingDist"></canvas>
      </div>

      <div class="card card-wide">
        <h3>상품별 리뷰 수 TOP 15</h3>
        <canvas id="cTopProducts"></canvas>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="./insights.js"></script>
</body>
</html>
